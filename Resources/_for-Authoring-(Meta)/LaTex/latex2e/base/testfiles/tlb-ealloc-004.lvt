
\documentclass{article}
\input{test2e}


% Check that only 16 write streams are allocated except for luatex
% which should skip 18 but go on (to 128 but upper limit not tested here)
% (this code was fixed in 2015-04-15 release.


\START

\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\newwrite\foo
\show\foo

\END