\startcomponent *

\product  prd-analysis

\startchapter[title={Elementary ideas}]

	\startsection [title={\m{Ïƒ}-algebras}]
		\startitemize [1, nowhite, after]
			\item  \m{ð“˜ âŠ‚ ð“‘ âŠ‚ \overline{ð“‘} = ð“› âŠ‚ 2^â„}    % TODO: Add counterexamples
			\item  \m{\abs{ð“˜} = \abs{ð“‘} = \abs{â„} = â„µ_{1}, \ \abs{\overline{ð“‘}} = \abs{2^â„} = â„µ_{2}}
		\stopitemize
	\stopsection

	\startsection [title={Examples}]
		\startitemize [1, nowhite, after]
			\item  \m{\brnd{x â†¦ \frac{1}{\sqrt{x}} ðŸ™_{[0, 1]}(x)} âˆˆ L^1 âˆ– L^2}
			\item  \m{\brnd{x â†¦ \frac{1}{x} ðŸ™_{[1, âˆž)}(x)} âˆˆ L^2 âˆ– L^1}
		\stopitemize
	\stopsection

	\startsection [title={Measurability of \m{\inf, \sup, \liminf, \limsup} TODO}]
		Let \m{X_n} be a discrete-time stochastic process.
		Then \m{\bcrl{\inf X_t â‰¥ c}  =  â‹‚_t \bcrl{X_t â‰¥ c}  }
	\stopsection

	\startsection [title={Method of substitution}]
		See Folland - Real Analysis Theorem (2.43).
	\stopsection


	\startsection [title={Bounds for Gaussian measure}]
		These ideas are from the following sources:
		\startitemize [1, joinedup]
			\item  \goto{John D. Cook --- Upper and lower bounds for the normal distribution function}[url(https://www.johndcook.com/blog/norm-dist-bounds)]
			\item  \goto{Dominic Yeo --- Gaussian tail bounds}[url(https://eventuallyalmosteverywhere.wordpress.com/2012/11/20/gaussian-tail-bounds-and-a-word-of-caution-about-clt)]
			\item  \goto{MSx post}[url(https://math.stackexchange.com/questions/518771)]
		\stopitemize

		Suppose \m{Z âˆ¼ N(0, 1)}, and denote \m{G(z) = â„™\bcrl{Z > z}} for \m{z âˆˆ [0, âˆž)}. Then
		\startformula
			\frac{z}{z^2 + 1} < \sqrt{2Ï€} e^{-\frac12 z^2} G(z) < \frac1z .
		\stopformula

		\startsubsubject [title={Upper bound}]
			\startformula
				G(z)
				=  âˆ«_z^âˆž \frac{1}{\sqrt{2Ï€}} e^{-\frac12 x^2} \d x
				â‰¤  \frac{1}{\sqrt{2Ï€} z} âˆ«_z^âˆž e^{-\frac12 x^2} x \d x
				=  \frac{1}{\sqrt{2Ï€} z} âˆ«_z^âˆž e^{-\frac12 x^2} \d \brnd{\frac12 x^2}
				=  \frac{1}{\sqrt{2Ï€} z} e^{-\frac12 z^2} .
			\stopformula
		\stopsubsubject

		\startsubsubject [title={Lower bound}]
			In this case, consider the function \m{h(z) = G(z) - \frac{1}{\sqrt{2Ï€}} \frac{z}{z^2 + 1} e^{-\frac12 z^2}}. We shall show that \m{h > 0} on the domain. First we calculate \m{h'(z)}.
			\startformula  \startalign
				\NC  h'(z) =  \NC  G'(z) - \frac{1}{\sqrt{2Ï€} (z^2 + 1)^2} \brnd{\brnd{e^{-\frac12 z^2} + z e^{-\frac12 z^2} (-z)} (z^2 + 1) - z e^{-\frac12 z^2} (2z)}  \NR
				\NC  =  \NC  \frac{e^{-\frac12 z^2}}{\sqrt{2Ï€}} - \frac{e^{-\frac12 z^2}}{\sqrt{2Ï€} (z^2 + 1)^2} \brnd{(1 - z^2)(z^2 + 1) - 2 z^2)}  \NR
				\NC  =  \NC  -\frac{e^{-\frac12 z^2}}{\sqrt{2Ï€} (z^2 + 1)^2} .  \NR
			\stopalign  \stopformula

			Therefore, we have
			\startitemize [1, joinedup]
				\item  \m{h(0) = \frac12 > 0},
				\item  \m{h'(z) < 0} on the domain, and
				\item  \m{\lim_{z â†’ âˆž} h(z) = 0},
			\stopitemize
			which imply that \m{h > 0} on the domain.
		\stopsubsubject

	\stopsection

\stopchapter


\startchapter [title={Borel--Cantelli lemmas}]

	\starttheorem[title={Borel--Cantelli 1}]
		Let \m{(E_n) âŠ‚ â„±} such that \m{âˆ‘â„™(E_n) < âˆž}. Then \m{â„™\brnd{E_n \infinitelyoften} = 0}.
	\stoptheorem
	\startproof
		Since \m{âˆ‘â„™(E_n) < âˆž}, for any fixed \m{n âˆˆ â„•}, we have
		\startformula
			â„™\brnd{E_n \infinitelyoften}  =  â„™\brnd{â‹‚_{n} â‹ƒ_{m â‰¥ n} E_m}  â‰¤  â„™\brnd{â‹ƒ_{m â‰¥ n} E_m}  â‰¤  âˆ‘_{m â‰¥ n} â„™(E_n)  â†’  0 .
		\stopformula
	\stopproof

	Counterexample of the converse of BC1: Take \m{((0, 1], Î»)} as the probability space, and \m{E_n = \brnd{0, \frac{1}{n^2}}}. Then \m{â„™\brnd{E_n \infinitelyoften} = 1}, but \m{âˆ‘â„™(E_n) < âˆž}.

	\starttheorem[title={Borel--Cantelli 2}]
		Let \m{(E_n) âŠ‚ â„±} be (mutually) independent such that \m{âˆ‘â„™(E_n) = âˆž}. Then \m{â„™\brnd{E_n \infinitelyoften} = 1}.
	\stoptheorem
	\startproof
		Since \m{â„™\brnd{\brnd{E_n \infinitelyoften}^âˆ} = â„™\brnd{E_n^âˆ \eventually}}, it is equivalent to prove that \m{â„™\brnd{E_n^âˆ \eventually} = 0}. Using independence and the fact that \m{1 - x < e^{-x}}, for each fixed \m{n âˆˆ â„•}, we have
		\startformula
			â„™\brnd{â‹‚_{m = n}^N E_n^âˆ}  =  âˆ_{m = n}^N â„™\brnd{E_n^âˆ}  =  âˆ_{m = n}^N \brnd{1 - â„™(E_n)}  â‰¤  âˆ_{m = n}^N e^{- â„™(E_n)}  =  e^{- âˆ‘_{m = n}^N â„™(E_n)} .
		\stopformula
		Taking \m{N â†’ âˆž}, we get \m{â„™\brnd{â‹‚_{m â‰¥ n} E_n^âˆ} â†’ 0}. Therefore
		\startformula
			â„™\brnd{E_n^âˆ \eventually}  =  â„™\brnd{â‹ƒ_n â‹‚_{m â‰¥ n} E_n^âˆ}   â‰¤  âˆ‘_n â„™\brnd{â‹‚_{m = n}^N E_n^âˆ}  =  0 .
		\stopformula
	\stopproof

\stopchapter


\startchapter [title={Modes of convergence}]

	Study this part from \goto{Robert L Wolpert - Convergence in \m{â„^d} and in metric spaces}[url(https://www2.stat.duke.edu/courses/Fall18/sta711/lec/wk-07.pdf)].
	% ToDo: Correct this diagram.
	In this diagram, the top row represents \quote{\emph{point independent}} modes of convergence and the bottom row represents the \quote{\emph{point dependent}} modes of convergence.

	\blank[line]

	\starttikzcd [row sep=huge, column sep=huge]
		\text{unif}
				\arrow[r, middlegreen]
				\arrow[d, middlegreen]
			\NC  L^âˆž
				\arrow[r, middlegreen]
				\arrow[d, middlegreen]
			\NC  L^2
				\arrow[r, middlegreen]
				\arrow[dl, slategray, swap, "(X_n âŸ‚) âˆ§ (ð”¼ X_n = 0) âˆ§ (âˆ‘ ð• X_n < âˆž)" description]
			\NC  L^1
				\arrow[r, middlegreen]
			\NC  â„™
				\arrow[r, middlegreen]
				\arrow[dlll, bend left, magenta, "âˆ€ \text{ subseq } âˆƒ \text{ subsubseq }" description]
				\arrow[l, bend right, darkblue, swap, "\text{u.i. âˆ¨ unif bound}"]
			\NC  w^*
				\arrow[l, bend right, swap, darkorange, "const" description]
		\NR  \text{pt}
				\arrow[r, middlegreen]
			\NC  \text{a.s.}
				\arrow[urrr, middlegreen]
				\arrow[urr, dotted, red, near end, "LDCT?" description]  \NR
	\stoptikzcd

	Legend
	\startitemize [1, nowhite, after]
		\item  \color[middlegreen]{green: automatic implication}
		\item  any other color: depends on the mentioned condition
	\stopitemize

\stopchapter


\startchapter [title={Conditioning}, reference=sec:conditioning]

	\startsection[title={In \m{L^2}, conditional expectation is a projection}]
		Let \m{(Î©, â„±, â„™)} be a probability space, \m{ð“– âŠ† â„±} be a sub-Ïƒ-algebra, and \m{X âˆˆ L^2(â„±)} be a random variable. Let \m{Ï€_{L^2(ð“–)}} denote the projection operator onto \m{L^2(ð“–)}. We know that projection operators are self-adjoint. So \m{âˆ€ E âˆˆ ð“–},
		\startformula \startalign[n=3]
			\NC  âˆ«_E ð”¼(X âˆ£ ð“–) \d â„™ \big|_ð“–  \NC =  âˆ«_E X \d â„™  =  âˆ« ðŸ™_E X \d â„™  =  \inn{ðŸ™_E, X}  \NC  [\text{definitions}]  \NR
			\NC  \NC =  \inn{Ï€_{L^2(ð“–)} ðŸ™_E, X}  \NC  [E âˆˆ ð“– âŸ¹ ðŸ™_E âˆˆ L^2(ð“–)]  \NR
			\NC  \NC =  \inn{ðŸ™_E, Ï€_{L^2(ð“–)}^* X}  =  \inn{ðŸ™_E, Ï€_{L^2(ð“–)} X}  \NC  [\text{self-adjointness}]  \NR
			\NC  \NC =  âˆ« ðŸ™_E Ï€_{L^2(ð“–)} X \d â„™ \big|_ð“–  =  âˆ«_E Ï€_{L^2(ð“–)} X \d â„™ \big|_ð“– .  \qquad  \NC  [\text{definitions}]  \NR
		\stopalign \stopformula
		Therefore, \m{ð”¼(X âˆ£ ð“–) = Ï€_{L^2(ð“–)} X} a.s.

	\stopsection

	\startsection [title={Uncorrelated does not imply independence}]
		See the wikipedia entries on \goto{uncorrelated random variables}[url(https://en.wikipedia.org/wiki/Uncorrelated_random_variables)] and \goto{normally distributed and uncorrelated does not imply independent}[url(https://en.wikipedia.org/wiki/Normally_distributed_and_uncorrelated_does_not_imply_independent)].
	\stopsection

	\startsection [title={\m{Ï•_{aX + bY} = Ï•_{aX} Ï•_{bY} \ âˆ€ (a, b) âˆˆ â„^2} implies independence}]
		See \goto{MathSx:1802289}[url(https://math.stackexchange.com/questions/1802289)].
	\stopsection

\stopchapter

\startchapter [title={Limiting behaviour of \m{\bar{X}_n}}]

	A great resource for this chapter is the Wikipedia article on \goto{central limit theorem}[url(https://en.wikipedia.org/wiki/Central_limit_theorem#Relation_to_the_law_of_large_numbers)].

	Let \m{(X_n)} be a sequence of independent and identically distributed random variables with mean \m{m} and distribution \m{Î¼}, and let \m{\bar{X}_n = \frac1n S_n = \frac1n âˆ‘_{j = 1}^n X_j}.

	There are three scales for which we have three theorems, namely
	\startitemize[n, nowhite, after]
		\item  law of large numbers (\m{\bar{X}_n \xrightarrow{a.s.} m}),
		\item  law of the iterated logarithm (\m{\limsupm \frac{\bar{X}_n}{\sqrt{\frac{2 \log \log n}{n}}} = 1} a.s.), and
		\item  central limit theorem (\m{\sqrt{n}(\bar{X}_n - m) \xrightarrow{w^*} ð“(0, Î£)}).
	\stopitemize

	The idea is that we have an asymptotic expansion of \m{\bar{X}_n} given (in law) by
	\startformula
		\bar{X}_n âˆ¼ m + \frac{1}{\sqrt{n}} ð“(0, Î£) , \quad \text{where \m{Î£} is the covariance operator.}
	\stopformula
	The convergence to \m{m} is given by the law of large numbers, and the convergence to \m{\frac{1}{\sqrt{n}} ð“(0, Î£)} is given by the central limit theorem. As \m{n â†’ âˆž}, the dependence on \m{ð“(0, Î£)} goes to zero, so this is consistent with the law of large numbers.

	\startsubsubsubject [title={Central limit theorem: how to remember in \m{1}-dim}]
		\startformula
			\frac{\bar{X}_n - ð”¼ \bar{X}_n}{\sqrt{ð• \bar{X}_n}}
			=  \frac{\bar{X}_n - m}{\frac{Ïƒ}{\sqrt{n}}}
			\xrightarrow[small]{w^*}  ð“(0, 1)
		\stopformula
	\stopsubsubsubject

\stopchapter

\stopcomponent
